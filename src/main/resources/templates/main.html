<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title>자판기 프로그램</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-700 text-white min-h-screen flex flex-col items-center p-6">

<h1 class="bg-white text-red-700 text-2xl font-bold px-6 py-3 rounded-lg mb-6">
  ★ 자판기 프로그램 ★
</h1>

<div class="flex justify-between items-center w-full max-w-4xl mb-4">
  <button class="bg-white text-red-700 font-bold px-4 py-2 rounded">▽ 자판기 상품 목록</button>
  <div class="flex items-center space-x-2">
    <span>한글</span>
    <button onclick="toggleLang(this)" class="w-12 h-6 bg-white rounded-full relative">
      <span class="dot absolute top-0.5 left-1 w-5 h-5 bg-red-700 rounded-full transition-all duration-300"></span>
    </button>
    <span>ENG</span>
  </div>
  <div class="text-2xl">➖</div>
</div>

<div class="bg-white text-black rounded-lg w-full max-w-4xl p-4 mb-4">
  <p class="text-center font-medium py-4"
     th:if="${productList == null or #lists.isEmpty(productList)}"
     th:text="'상품 목록이 비어있습니다.'">
    상품 없음 메시지
  </p>

  <table class="w-full table-auto border border-red-300"
         th:if="${productList != null and !#lists.isEmpty(productList)}">
    <thead class="bg-red-100">
    <tr>
      <th class="border px-4 py-2 w-[10%]">번호</th>
      <th class="border px-4 py-2 w-[20%]">상품명</th>
      <th class="border px-4 py-2 w-[20%]">가격</th>
      <th class="border px-4 py-2 w-[20%]">유통기한</th>
      <th class="border px-4 py-2 w-[15%]">수정</th>
      <th class="border px-4 py-2 w-[15%]">삭제</th>
    </tr>
    </thead>
    <tbody>
    <tr class="text-center" th:each="product, stat : ${productList}">
      <td class="border px-4 py-2" th:text="${stat.count}">1</td>
      <td class="border px-4 py-2" th:text="${product.name}">상품명</td>
      <td class="border px-4 py-2" th:text="${product.price}">3000</td>
      <td class="border px-4 py-2" th:text="${product.limit_date}">2025-04-10</td>
      <td class="border px-4 py-2">
        <a th:href="@{'/edit?index=' + ${stat.index}}"
           class="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded">수정</a>
      </td>
      <td class="border px-4 py-2">
        <a th:href="@{'/remove?index=' + ${stat.index}}"
           class="bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded">삭제</a>
      </td>
    </tr>
    </tbody>
  </table>

  <p class="text-red-700 font-bold mt-4"
     th:if="${productList != null}"
     th:text="'▲ 총 ' + ${productList.size()} + '개의 상품이 있습니다.'">
    총 개수 표시
  </p>
</div>

<button
        id="addProductBtn"
        class="bg-red-500 hover:bg-red-600 text-white font-semibold px-6 py-3 rounded"
        onclick="moveToAdd()">
  상품 추가하기!
</button>

</body>
</html>
